!function(i,t){var e=i.jQuery||i;"function"==typeof define&&define.amd?define([],function(){e.isValidEmail=t(e)}):"object"==typeof exports?module.exports=t(e):e.isValidEmail=t(e)}(this,function(i){"use strict";var t="!#$%&'*+-/=?^_`{|}~",e=function(){this.index=0};return e.prototype.isLetterOrDigit=function(i){return i>="A"&&"Z">=i||i>="a"&&"z">=i||i>="0"&&"9">=i},e.prototype.isAtom=function(i,e){return i.charCodeAt(0)<128?this.isLetterOrDigit(i)||-1!==t.indexOf(i):e},e.prototype.isDomain=function(i,t){return i.charCodeAt(0)<128?this.isLetterOrDigit(i)||"-"===i:t},e.prototype.skipAtom=function(i,t){for(var e=this.index;this.index<i.length&&this.isAtom(i[this.index],t);)this.index++;return this.index>e},e.prototype.skipSubDomain=function(i,t){if(!this.isDomain(i[this.index],t)||"-"===i[this.index])return!1;for(this.index++;this.index<i.length&&this.isDomain(i[this.index],t);)this.index++;return!0},e.prototype.skipDomain=function(i,t){if(!this.skipSubDomain(i,t))return!1;for(;this.index<i.length&&"."===i[this.index];){if(this.index++,this.index===i.length)return!1;if(!this.skipSubDomain(i,t))return!1}return!0},e.prototype.skipQuoted=function(i,t){var e=!1;for(this.index++;this.index<i.length;){if(i.charCodeAt(this.index)>=128&&!t)return!1;if("\\"===i[this.index])e=!e;else if(e)e=!1;else if('"'===i[this.index])break;this.index++}return this.index>=i.length||'"'!==i[this.index]?!1:(this.index++,!0)},e.prototype.skipWord=function(i,t){return'"'===i[this.index]?this.skipQuoted(i,t):this.skipAtom(i,t)},e.prototype.skipIPv4Literal=function(i){for(var t=0;this.index<i.length&&4>t;){for(var e=this.index,n=0;this.index<i.length&&i[this.index]>="0"&&i[this.index]<="9";)n=10*n+(i[this.index]-"0"),this.index++;if(this.index===e||this.index-e>3||n>255)return!1;t++,4>t&&this.index<i.length&&"."===i[this.index]&&this.index++}return 4===t},e.prototype.isHexDigit=function(i){return i>="A"&&"F">=i||i>="a"&&"f">=i||i>="0"&&"9">=i},e.prototype.skipIPv6Literal=function(i){for(var t=!1,e=0;this.index<i.length;){for(var n=this.index;this.index<i.length&&this.isHexDigit(i[this.index]);)this.index++;if(this.index>=i.length)break;if(this.index>n&&e>2&&"."===i[this.index]){if(this.index=n,!this.skipIPv4Literal(i))return!1;break}var r=this.index-n;if(r>4)return!1;if(":"!==i[this.index])break;for(n=this.index;this.index<i.length&&":"===i[this.index];)this.index++;if(r=this.index-n,r>2)return!1;if(2===r){if(t)return!1;t=!0,e+=2}else e++}return 2>e?!1:t?6>e:7>e},e.prototype.validate=function(t,e){if(this.index=0,!t)return!1;if(0===t.length)return!1;if(i.emailValidator){if(i.emailValidator.allowedCharactersPattern&&!t.match(i.emailValidator.allowedCharactersPattern))return!1;if(i.emailValidator.filterPattern&&!t.match(i.emailValidator.filterPattern))return!1}if(!this.skipWord(t,e)||this.index>=t.length)return!1;for(;this.index<t.length&&"."===t[this.index];)if(this.index++,!this.skipWord(t,e)||this.index>=t.length)return!1;if(this.index+1>=t.length||"@"!==t[this.index++])return!1;if("["!==t[this.index])return this.skipDomain(t,e)?this.index===t.length:!1;if(this.index++,this.index+8>=t.length)return!1;var n=t.substr(this.index,5);if("ipv6:"===n.toLowerCase()){if(this.index+="IPv6:".length,!this.skipIPv6Literal(t))return!1}else if(!this.skipIPv4Literal(t))return!1;return this.index>=t.length||"]"!==t[this.index++]?!1:this.index===t.length},function(i,t){return(new e).validate(i,t)}});